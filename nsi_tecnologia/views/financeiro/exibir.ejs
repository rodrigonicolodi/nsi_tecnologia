<% layout = 'layout' %>
<% titulo = 'Detalhes do Lançamento Financeiro' %>

<div style="padding: 20px !important; max-width: none !important; margin: 0 !important; width: 100% !important;">
  <h2 style="text-align: left !important;"><%= titulo %></h2>

  <div style="background: white !important; padding: 20px !important; border-radius: 8px !important; box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important; text-align: left !important; width: 100% !important; max-width: none !important; margin: 0 !important;">
    <p><strong>Tipo:</strong> <%= lancamento.tipo || '—' %></p>
    <p><strong>Pessoa:</strong> <%= lancamento.pessoa_nome || '—' %></p>
    <p><strong>Caixa:</strong> <%= lancamento.caixa_nome || '—' %></p>
    <p><strong>Valor:</strong> R$ <%= !isNaN(parseFloat(lancamento.valor)) ? parseFloat(lancamento.valor).toFixed(2) : '0,00' %></p>
    <p><strong>Vencimento:</strong> <%= lancamento.vencimento ? new Date(lancamento.vencimento).toLocaleDateString('pt-BR') : '—' %></p>
    <p><strong>Status:</strong> <%= lancamento.status || '—' %></p>
    <p><strong>Descrição:</strong> <%= lancamento.descricao || '—' %></p>

    <% if (lancamento.ordem_servico_id) { %>
      <p><strong>Vinculado à OS:</strong>
        <a href="/ordens/exibir/<%= lancamento.ordem_servico_id %>">OS #<%= lancamento.ordem_servico_id %></a>
      </p>
    <% } %>
  </div>

  <div style="margin-top: 20px; display: flex; gap: 10px;">
    <a href="/financeiro" class="btn btn-azul btn-voltar">
      <i class="fas fa-arrow-left"></i> Voltar
    </a>
    <a href="/financeiro/editar/<%= lancamento.id %>" class="btn btn-azul">
      <i class="fas fa-edit"></i> Editar
    </a>
    <% if (lancamento.status === 'pago') { %>
      <a href="/financeiro/recibo/<%= lancamento.id %>" class="btn btn-verde" target="_blank">
        <i class="fas fa-receipt"></i> Imprimir Recibo
      </a>
    <% } %>
  </div>
</div>