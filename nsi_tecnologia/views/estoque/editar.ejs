<% layout = 'layout' %>
<% titulo = 'Editar Produto' %>

<div class="container">
  <h2>Editar Produto</h2>

  <% if (erro) { %>
    <p class="erro"><%= erro %></p>
  <% } %>

  <form action="/estoque/editar/<%= produto.id %>" method="POST" class="form-grid">
    <div class="campo">
      <label for="nome">Nome</label>
      <input type="text" id="nome" name="nome" value="<%= produto.nome %>" required>
    </div>

    <div class="campo">
      <label for="codigo">Código</label>
      <input type="text" id="codigo" name="codigo" value="<%= produto.codigo %>">
    </div>

    <div class="campo">
      <label for="categoria">Categoria</label>
      <input type="text" id="categoria" name="categoria" value="<%= produto.categoria %>">
    </div>

    <div class="campo">
      <label for="marca">Marca</label>
      <input type="text" id="marca" name="marca" value="<%= produto.marca %>">
    </div>

    <div class="campo">
      <label for="modelo">Modelo</label>
      <input type="text" id="modelo" name="modelo" value="<%= produto.modelo %>">
    </div>

    <div class="campo">
      <label for="unidade">Unidade</label>
      <select id="unidade" name="unidade">
        <option value="UN" <%= produto.unidade === 'UN' ? 'selected' : '' %>>Unidade</option>
        <option value="KG" <%= produto.unidade === 'KG' ? 'selected' : '' %>>Quilo</option>
        <option value="LT" <%= produto.unidade === 'LT' ? 'selected' : '' %>>Litro</option>
      </select>
    </div>

    <div class="campo">
      <label for="custo">Custo</label>
      <input type="number" step="0.01" id="custo" name="custo" value="<%= produto.custo %>">
    </div>

    <div class="campo">
      <label for="preco_venda">Preço de Venda</label>
      <input type="number" step="0.01" id="preco_venda" name="preco_venda" value="<%= produto.preco_venda %>">
    </div>

    <div class="campo">
      <label for="estoque_atual">Estoque Atual</label>
      <input type="number" id="estoque_atual" name="estoque_atual" value="<%= produto.estoque_atual %>">
    </div>

    <div class="campo">
      <label for="status">Status</label>
      <select id="status" name="status">
        <option value="ativo" <%= produto.status === 'ativo' ? 'selected' : '' %>>Ativo</option>
        <option value="inativo" <%= produto.status === 'inativo' ? 'selected' : '' %>>Inativo</option>
      </select>
    </div>

    <div class="campo" style="grid-column: 1 / -1;">
      <label for="descricao_tecnica">Descrição Técnica</label>
      <textarea id="descricao_tecnica" name="descricao_tecnica" rows="4"><%= produto.descricao_tecnica %></textarea>
    </div>

    <div class="campo" style="grid-column: 1 / -1; text-align: center;">
      <button type="submit" class="btn btn-azul">
        <i class="fas fa-save"></i> Atualizar Produto
      </button>
    </div>
  </form>
</div>